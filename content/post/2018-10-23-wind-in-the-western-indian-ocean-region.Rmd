---
title: Wind in the western Indian ocean region
author: Masumbuko Semba
date: '2018-10-23'
slug: wind-in-the-western-indian-ocean-region
categories:
  - Oceanography
tags:
  - Indian Ocean
  - Satellite
  - quikscat
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE, comment = "")
```

## Comparisons of Wind Stress
A problem faced when using satellite based estimates of wind stress is that the QuikSCAT based estimates start in 1999-07-21 and end in 2009-11-19, while the ASCAT based estimates start in 2009-10-03 and are ongoing. A comparison of the data over the period of overlap would be of interest.

```{r}
require(sf)
require(xtractomatic)
require(tidyverse)
require(lubridate)
require(DT)
require(oce)


```



```{r include=FALSE, warning=FALSE, echo=FALSE}
#NOT these is hidden in the output, but it is the one that does the processing of the three chunk above which are simply for for display but never execute as I parsed the argument eval = FALSE in them

##read Africa continental shapefile that we will use throught the munuscript as basemap dataset for maps
africa = read_sf("E:/GIS/Tanzania spatial data Bank/EAF14 Tanzania spatial datasets/africa/Spatial/AdmInfr/afcntry.shp")


```

extract centroid from polygones
```{r}

centroids = africa%>% 
  st_centroid() %>% 
  st_coordinates() %>% 
  as.tibble() %>%
  rename(lon = 1, lat = 2)
```


merge countries name with centroid 
```{r}
# make a copy of africa
country = africa

# remove the geometry and retain the attribute information of the africa countries
st_geometry(country) = NULL

# bind the country centroid information with the country attribute information 
country.centroids = centroids %>% 
  bind_cols(country) %>% 
  # drop other variables except lon, lat and name
  select(lon,lat, name = CNTRY_NAME)

# select the countries in the wio region
country.wio = country.centroids %>% 
  filter(name %in% c("Somalia", "Kenya", "Uganda", "Tanzania", 
                     "Mozambique", "South Africa","Madagascar", "Comoros",
                     "Seychelles", "Mauritius", "Reunion"))
```

Table \@ref(tab:tab1) show the longitude and latitude and name of the countries in the western Indian Ocean region
```{r tab1}
country.wio %>% 
  kableExtra::kable("html", col.names = c("Longitude", "Latitude", "Country"), align = "c",
                    caption = "Central point geographical information of the countries in the Western Indian Ocean Region") %>%
  kableExtra::column_spec(column = 1:3, width = "8cm")


```


Figure \@ref(fig:fig1) shows the country within the western Indian Ocean region
 
```{r fig1, fig.cap="Countries in the western Indian Ocean region", fig.height=8}
ggplot() + 
  geom_sf(data = spData::world, col = 1, fill = "ivory")+
  coord_sf(xlim = c(30,60), ylim = c(-30,5))+
  ggrepel::geom_text_repel(data = country.wio, 
            aes(x = lon, y = lat, label = name), nudge_x = 0.05)+
  theme_bw() + 
  theme(panel.background = element_rect(fill = "lightblue"),
        axis.text = element_text(size = 11, colour = 1),
        panel.grid = element_line(colour = NA))+
  scale_x_continuous(breaks = c(35,55))+
  scale_y_continuous(breaks = c(-25, 2)) +
  ggsn::scalebar(location = "bottomright", x.min = 35, x.max = 60,
                 y.min = -30, y.max = 5, dist = 600, dd2km = TRUE, 
                 model = "WGS84", st.dist = 0.02, st.size = 4)+
  labs(x = NULL, y = NULL)



```

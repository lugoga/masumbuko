---
title: Access meteorogical observations using worldmet package
author: Masumbuko Semba
date: '2019-11-29'
slug: access-meteorogical-observations-using-worldmet-package
categories:
  - Met
tags:
  - R
  - tidyverse
  - Semba
  - Masumbuko Semba
  - Data science
---


`worldmet` provides an easy way to access data from the NOAA Integrated Surface Database (ISD). The ISD contains detailed surface meteorological data from around the world for over 35,000 locations. See also the map.

The package outputs (typically hourly meteorological data) work very well with the openair package.

Installation
Installation of worldmet from GitHub is easy using the devtools package.

```{r, eval=FALSE}
require(devtools)
install_github('davidcarslaw/worldmet')
```

```{r}
require(worldmet)
require(dplyr)
```


## Brief examples
To search for meteorological sites the user can search by the name or partial name of the site in upper or lower case. The getMeta function will return all site names that match the search string. The most important information returned is the code, which can then be supplied to the importNOAA function that downloads the data.

For example, to search for site "arusha":

```{r}
worldmet::getMeta(site = "arusha")
```


Often we have a latitude / longitude of interest. A search can be made based on supplied decimal coordinates and the top n nearest sites are returned. The map shows the location searched by the user (red dot) and markers showing the nearest meteorological stations. Click on a station marker to obtain the code and other basic information.

```{r}
near.dar = worldmet::getMeta(lat = -6.8, lon = 39.3)
```

But we are only interested with meteorogilcal stations that are within the coastal areas of tanzania
```{r}
tz.stations = near.dar %>% filter(CTRY == "TZ")
```

To obtain the data of the particular station, the user must supply a code id for that stations  and year or years of interest. For example, to download hourly data for Mwalimu Nyerere Internationla Airport for 2018 (code 638940-99999) use the code in the chunk below:

```{r}
dar.data = worldmet::importNOAA(code = "638940-99999", year = 2018)
```

You can have a glimpse of some variables that are in the dataset using the glimpse function

```{r}
dar.data %>% glimpse()
```

